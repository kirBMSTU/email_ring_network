{"version":3,"sources":["CoreInteraction/ws.js","components/DialogMini/svg.js","contexts/userContext.js","CoreInteraction/InteractionService.js","useContexts/useUserContext.js","contexts/lettersContext.js","stories/DialogListSampleData.js","useContexts/useLettersContext.js","components/DialogMini/index.js","components/DialogList/index.js","components/SettingsItem/index.js","components/SettingsColumn/SettingsData.js","components/SettingsColumn/index.js","components/TabBar/svg.js","components/TabBar/index.js","components/StatusBar/connection-icon.js","components/StatusBar/new-letter-icon.js","contexts/networkContext.js","useContexts/useNetworkContext.js","components/StatusBar/index.js","components/UserMini/index.js","components/UsersList/index.js","components/LeftColumn/index.js","components/LetterToolPanel/index.js","components/LetterReading/index.js","components/DetailedSettings/index.js","contexts/comPortsContext.js","useContexts/useComPortsContext.js","components/ComPortSettings/index.js","components/LetterWritingToolPanel/index.js","components/InformationRightColumn/index.js","components/LetterWriting/index.js","components/RightColumn/index.js","components/Auth/index.js","AppContextProvider.js","components/InteractonStarter/index.js","App.js","index.js"],"names":["global","__webpack_require__","d","__webpack_exports__","ws","EVENT_TYPES","WebSocket","backendPort","MESSAGE_RECEIVED","MESSAGE_SEND","SET_USER","SET_USER_RESPONSE","SET_OLD_LETTERS","NETWORK_STATUS","INTERFACE_READY","CLOSE_WINDOW","COM_PORTS_SETTINGS","COM_PORTS_SETTINGS_CHANGE","down","react_default","a","createElement","width","height","aria-hidden","focusable","data-prefix","data-icon","class","role","xmlns","viewBox","fill","up","doubleArrow","className","defaultContext","email","collision","UserContext","React","createContext","UserContextProvider","props","_useState","useState","_useState2","Object","slicedToArray","state","setState","useEffect","Provider","value","children","sendNewLetter","letter","send","JSON","stringify","event","setUser","user","bus","EventBus","classCallCheck","this","listeners","callback","push","data","forEach","listener","onmessage","message","parse","console","log","emit","onopen","useUserContext","_useContext","useContext","_useContext2","objectSpread","setEmail","setCollision","Date","now","letters","searchedLetters","LettersContext","LettersContextProvider","useLettersContext","substring","findParam","setFindParam","findLetters","filter","author","responder","find","str","sub","toLowerCase","indexOf","getLetterByID","id","sendLetter","addLetter","deleteLetter","deleteId","oldLetters","oldSearchedLetters","setLetters","setLetterChecked","pos","findIndex","checked","sendCheckedSubEvent","letterCopy","checkedSubEvent","DialogMini","currentUser","_useLettersContext","toMe","toIconClassName","checkedIconClassName","onClick","history","concat","defaultProps","withRouter","DialogMini_DialogMini","DialogList","sort","b","date","map","src_components_DialogMini","assign","key","SettingsItem","react_router_dom","to","linkTo","name","Component","SettingsItem_SettingsItem","settings","SettingsColumn","settingsItems","item","src_components_SettingsItem","dialogsSvg","settingsSvg","usersSvg","classNames","require","TabBar","pathname","location","isUsers","match","isSettings","isDialogs","usersClassNames","tab-bar__users-tab","tab-bar__tab--checked","dialogsClassNames","tab-bar__dialogs-tab","settingsClassNames","tab-bar__settings-tab","TabBar_TabBar","connection","newLetterSvg","availableUsers","NetworkContext","NetworkContextProvider","useNetworkContext","setConnection","setAvailableUsers","StatusBar","connectionClassNames","status-bar__button","status-bar__connection--connected","status-bar__connection--disconnected","newLetterClassNames","status-bar__new-letter--connected","status-bar__new-letter--disconnected","type","placeholder","onChange","e","currentTarget","connectionSvg","UserMini","UsersList","src_components_UserMini","LeftColumn","src_components_StatusBar","react_router","path","render","src_components_SettingsColumn","src_components_UsersList","src_components_DialogList","src_components_TabBar","LetterToolPanel","redirect","letterID","LetterReading","params","_getLetterByID","isCurrentUserAuthor","authorLabel","authorValue","src_components_LetterToolPanel","DetailedSettings","inCom","speed","outCom","ports","ComPortsContext","ComPortsContextProvider","useComPortsContext","setInCom","setOutCom","setPorts","mergeState","newState","renderSpeed","compareSpeed","x","y","Number","compareName","String","renderItems","items","currentItem","compareItem","renderItem","arguments","length","undefined","selected","ComPortSettings","speeds","_useComPortsContext","handleInputChange","_event$currentTarget","dataset","field","port","changedPort","defineProperty","htmlFor","data-port","data-field","comPortsSettings","reverse","LetterWritingToolPanel","onSendPressed","InformationRightColumn","LetterWriting","search","_queryString$parse","queryString","action","originFieldName","newFieldName","originLetter","userEmail","_useNetworkContext","onInputChange","input","data-name","src_components_LetterWritingToolPanel","includes","alert","currentTimestamp","rand","Math","random","generateID","src_components_InformationRightColumn","LetterWriting_LetterWriting","RightColumn","src_components_LetterWriting","component","exact","src_components_DetailedSettings","src_components_ComPortSettings","Auth","_useUserContext","inputValue","setInputValue","_useState3","_useState4","setRedirect","on","status","headerText","AppContextProvider","networkContext_NetworkContextProvider","userContext_UserContextProvider","lettersContext_LettersContextProvider","comPortsContext_ComPortsContextProvider","InteractionStarter","window","addEventListener","networkStatus","unsubscribeAll","App","AppContextProvider_AppContextProvider","InteractonStarter","src_components_Auth","Fragment","src_components_LeftColumn","src_components_RightColumn","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.66dc6858.chunk.js","sourcesContent":["export const ws = new WebSocket(\"ws://localhost:\" + global.backendPort + \"/web/app/events\");\n\nexport const EVENT_TYPES = {\n    MESSAGE_RECEIVED:          \"MESSAGE_RECEIVED_GOTRON_EVENT\",\n    MESSAGE_SEND:              \"MESSAGE_SEND_GOTRON_EVENT\",\n    SET_USER:                  \"SET_USER_GOTRON_EVENT\",\n    SET_USER_RESPONSE:         \"SET_USER_RESPONSE_GOTRON_EVENT\",\n\n    SET_OLD_LETTERS:\t\t   \"SET_OLD_LETTERS_GOTRON_EVENT\",\n\n    NETWORK_STATUS:            \"NETWORK_STATUS_GOTRON_EVENT\",\n    INTERFACE_READY:           \"INTERFACE_READY_GOTRON_EVENT\",\n    CLOSE_WINDOW:              \"CLOSE_WINDOW_GOTRON_EVENT\",\n\n    COM_PORTS_SETTINGS:        \"COM_PORTS_SETTINGS_GOTRON_EVENT\",\n    COM_PORTS_SETTINGS_CHANGE: \"COM_PORTS_SETTINGS_CHANGE_GOTRON_EVENT\",\n};","import React from 'react';\n\nconst down = <svg width=\"20\" height=\"20\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrow-alt-circle-down\" class=\"svg-inline--fa fa-arrow-alt-circle-down fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M504 256c0 137-111 248-248 248S8 393 8 256 119 8 256 8s248 111 248 248zM212 140v116h-70.9c-10.7 0-16.1 13-8.5 20.5l114.9 114.3c4.7 4.7 12.2 4.7 16.9 0l114.9-114.3c7.6-7.6 2.2-20.5-8.5-20.5H300V140c0-6.6-5.4-12-12-12h-64c-6.6 0-12 5.4-12 12z\"></path></svg>;\nconst up = <svg width=\"20\" height=\"20\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"arrow-alt-circle-up\" class=\"svg-inline--fa fa-arrow-alt-circle-up fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm292 116V256h70.9c10.7 0 16.1-13 8.5-20.5L264.5 121.2c-4.7-4.7-12.2-4.7-16.9 0l-115 114.3c-7.6 7.6-2.2 20.5 8.5 20.5H212v116c0 6.6 5.4 12 12 12h64c6.6 0 12-5.4 12-12z\"></path></svg>;\nconst doubleArrow = <svg width=\"20\" height=\"20\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"check-double\" className=\"svg-inline--fa fa-check-double fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 512 512\"><path fill=\"currentColor\" d=\"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z\"></path></svg>;\n\nexport { down, up, doubleArrow };","import React, {useEffect, useState} from 'react';\n\nconst defaultContext = {\n    email: '',\n    collision: false,\n};\n\nexport const UserContext = React.createContext(defaultContext);\n\nexport const UserContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    useEffect(() => {\n        // do request in GO for a user in config -> setEmail\n    }, []);\n\n    return (\n        <UserContext.Provider value={[state, setState]}>\n            {props.children}\n        </UserContext.Provider>\n    );\n};","import { ws, EVENT_TYPES } from \"./ws.js\";\n\nexport const sendNewLetter = letter => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.MESSAGE_SEND,\n        \"letter\": letter,\n    }));\n};\n\nexport const setUser = user => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.SET_USER,\n        \"user\": user,\n    }));\n};\n\nexport const sendInterfaceReady = () => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.INTERFACE_READY,\n    }));\n};\n\nexport const setComPortsSettings = comPortsSettings => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.COM_PORTS_SETTINGS_CHANGE,\n        \"comPortsSettings\": comPortsSettings,\n    }));\n};\n\nexport const sendCloseWindow = () => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.CLOSE_WINDOW,\n    }));\n}\n\n\nclass EventBus {\n    constructor() {\n        this.listeners = {};\n    }\n\n    on(event, callback) {\n        if (!this.listeners[event]) {\n            this.listeners[event] = [];\n        }\n        this.listeners[event].push(callback);\n    }\n\n    emit(event, data) {\n        if (this.listeners[event]) {\n            this.listeners[event].forEach(listener => {\n                listener(data);\n            });\n        }\n    }\n\n    unsubscribeAll(event) {\n        this.listeners[event] = [];\n    }\n}\n\nconst bus = new EventBus();\n\nws.onmessage = (message) => {\n    const data = JSON.parse(message.data);\n    if (!data.event) return;\n\n    console.log('RECEIVED: ', data.event, \"data: \", data);\n    bus.emit(data.event, data);\n};\nws.onopen = () => sendInterfaceReady();\n\n\nexport default bus;\n\n","import React, { useContext, useEffect } from 'react';\nimport { UserContext } from \"../contexts/userContext.js\";\nimport { setUser } from \"../CoreInteraction/InteractionService.js\";\n\nexport const useUserContext = () => {\n    const [state, setState] = useContext(UserContext);\n\n    function setEmail(email) {\n        setState(state => ({...state, email}));\n        setUser({email});\n    }\n\n    function setCollision(collision) {\n        setState(state => ({...state, collision}));\n    }\n\n    return {\n        ...state,\n        setEmail,\n        setCollision,\n    }\n};","import React, {useState} from 'react';\nimport dialogs from \"../stories/DialogListSampleData.js\";\n\n\nconst defaultContext = {\n    letters: [],\n    searchedLetters: [],\n};\n\nexport const LettersContext = React.createContext(defaultContext);\n\nexport const LettersContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    return (\n        <LettersContext.Provider value={[state, setState]}>\n            {props.children}\n        </LettersContext.Provider>\n    );\n};","const data = [\n    {\n        id: 'sfdlkgjbasdl354253fkjeo',\n        author: 'some@mail.ru',\n        message: 'привет, как дела',\n        responder: 'me@mail.ru',\n        date: Date.now(),\n    },\n    {\n        id: 'o7q3yot4wegigcqjkwnebcadfsbl',\n        author: 'vasyan122@gmail.com',\n        message: 'когда пойдем в театр?',\n        responder: 'me@mail.ru',\n        date: Date.now() + 1,\n    },\n    {\n        id: 'n,bul789329y4tergsillkasm',\n        author: 'hello55@mail.ru',\n        message: 'Здравствуйте, у вас задолжность',\n        responder: 'me@mail.ru',\n        date: Date.now() + 2,\n    },\n    {\n        id: 'ldjbvxhldo98u2039irejgkl',\n        author: 'info@mems.ru',\n        message: 'Свежайшие мемы только с печки',\n        responder: 'me@mail.ru',\n        date: Date.now() + 3,\n    }\n];\n\nexport default data;\n","import React, { useContext, useState } from 'react';\nimport { LettersContext } from \"../contexts/lettersContext.js\";\nimport { sendNewLetter } from \"../CoreInteraction/InteractionService.js\";\n\nexport const useLettersContext = () => {\n    const [state, setState] = useContext(LettersContext);\n\n    const [findParam, setFindParam] = useState({\n        substring: '',\n    });\n\n    function sendLetter(letter) {\n        const { letters } = state;\n        letters.push(letter);\n        setState(state => ({...state, letters}));\n        findLetters(findParam.substring);\n\n        sendNewLetter(letter);\n    }\n\n    const addLetter = (letter) => {\n        const { letters } = state;\n        console.log(letters);\n        letters.push(letter);\n        console.log(letters);\n        setState(state => ({...state, letters}));\n        findLetters(findParam.substring);\n    };\n\n    function deleteLetter(deleteId) {\n        const { letters: oldLetters, searchedLetters: oldSearchedLetters } = state;\n        console.log(oldLetters);\n        const letters = oldLetters.filter(letter => letter.id !== deleteId);\n        const searchedLetters = oldSearchedLetters.filter(letter => letter.id !== deleteId);\n\n        setState(state => ({...state, letters, searchedLetters}));\n        console.log(letters);\n    }\n\n    function findLetters(substring) {\n        setFindParam({substring});\n\n        const { letters } = state;\n        const searchedLetters = letters.filter( letter => {\n            const { author, responder, message } = letter;\n            const find = (str, sub) => str.toLowerCase().indexOf(sub.toLowerCase()) !== -1;\n\n            return find(author, substring) || find(responder, substring) || find(message, substring);\n        });\n        setState(state => ({...state, searchedLetters}));\n    }\n\n    function setLetters(letters) {\n        const searchedLetters = letters;\n        setState(state => ({...state, searchedLetters, letters}));\n    }\n\n    function getLetterByID(id) {\n        const { letters } = state;\n        const letter = letters.find(letter => letter.id === id);\n        const empty = { author: '', message: '', responder: '', id: '' };\n        return letter ? letter : empty;\n    }\n\n    function setLetterChecked(id) {\n        const { letters } = state;\n        const pos = letters.findIndex(letter => letter.id === id);\n        if (pos === -1) {\n            return;\n        }\n\n        letters[pos].checked = true;\n\n        setState(state => ({\n            ...state,\n            letters,\n        }));\n    }\n\n    function sendCheckedSubEvent(id) {\n        const letter = getLetterByID(id);\n        const letterCopy = {...letter};\n        const { author, responder } = letterCopy;\n        letterCopy.checkedSubEvent = true;\n        letterCopy.author = responder;\n        letterCopy.responder = author;\n        sendNewLetter(letterCopy);\n    }\n\n    return {\n        ...state,\n        sendLetter,\n        addLetter,\n        deleteLetter,\n        findLetters,\n        setLetters,\n        getLetterByID,\n        setLetterChecked,\n        sendCheckedSubEvent,\n    }\n\n};","import React, { useState } from \"react\";\nimport \"./index.css\";\nimport { withRouter, Link } from 'react-router-dom';\nimport { Redirect } from 'react-router';\nimport { down, up, doubleArrow } from './svg.js';\nimport { useUserContext } from \"../../useContexts/useUserContext\";\nimport {useLettersContext} from \"../../useContexts/useLettersContext\";\n\n\nconst DialogMini = (props) => {\n    const { id, author, message, responder, checked } = props;\n    const { email: currentUser } = useUserContext();\n    const { setLetterChecked, sendCheckedSubEvent } = useLettersContext();\n\n\n    const toMe = responder === currentUser;\n    const toIconClassName = toMe ? 'dialog-mini__icon-in' : 'dialog-mini__icon-out';\n    const checkedIconClassName = checked ? 'dialog-mini__icon--checked' : 'dialog-mini__icon--unchecked';\n\n    const onClick = () => {\n        if (toMe) {\n            sendCheckedSubEvent(id);\n            setLetterChecked(id);\n        }\n        props.history.push(`/letter/${id}`)\n    };\n\n    return (\n        <div onClick={onClick} className={\"dialog-list__dialog-mini\"}>\n            <div className={toIconClassName}>\n                {toMe ? down : up}\n            </div>\n            <div className=\"dialog-mini__main\">\n                <div className=\"dialog-mini__author\">\n                    {author}\n                </div>\n                <div className=\"dialog-mini__message\">\n                    {message}\n                </div>\n            </div>\n            <div className={checkedIconClassName}>\n                {doubleArrow}\n            </div>\n        </div>\n\n    );\n};\n\nDialogMini.defaultProps = {\n    author: 'Unknown',\n    responder: 'Unknown',\n    message: 'Empty',\n    id: null,\n};\n\nexport default withRouter(props => <DialogMini {...props}/>);","import React from \"react\";\nimport \"./index.css\";\n\nimport DialogMini from '../DialogMini/index.js'\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\n\nconst DialogList = () => {\n\n    const { searchedLetters } = useLettersContext();\n\n    const cmp = (a,b) => a.date - b.date; // обратный порядок писем (новее => выше)\n\n    return (\n        <div className={\"dialog-list\"}>\n            {searchedLetters.sort(cmp).map( letter => <DialogMini key={letter.id} {...letter}/>)}\n        </div>\n    );\n};\n\nDialogList.defaultProps = {\n};\n\nexport default DialogList;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { withRouter, Link } from 'react-router-dom'\n\nclass SettingsItem extends React.Component {\n    render() {\n        return (\n            <Link to={this.props.linkTo}>\n                <div className=\"settings-column__settings-item\">\n                    {this.props.name}\n                </div>\n            </Link>\n        );\n    }\n}\n\n\nSettingsItem.defaultProps = {\n    name: 'Unknown',\n    linkTo: '/',\n};\n\nexport default withRouter(props => <SettingsItem {...props}/>);","const settings = [\n    {\n        name: \"Настройки COM-портов\",\n        linkTo: '/settings/ports',\n    },\n    // {\n    //     name: \"Исходящий COM-порт\",\n    // },\n    // {\n    //     name: \"Мои данные\",\n    // },\n];\n\nexport default settings;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport SettingsItem from \"../SettingsItem\";\n\nimport settings from './SettingsData.js';\n\nclass SettingsColumn extends React.Component {\n    render() {\n        return (\n            <div class=\"left-column__settings-column\">\n                {this.props.settingsItems.map(item => <SettingsItem {...item}/>)}\n            </div>\n        );\n    }\n}\n\n\nSettingsColumn.defaultProps = {\n    settingsItems: settings,\n};\n\nexport default SettingsColumn;","import React from 'react';\nconst dialogsSvg = (\n    <svg aria-hidden=\"true\" width=\"32\" height=\"32\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"comments\"\n         className=\"svg-inline--fa fa-comments fa-w-18\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 576 512\">\n        <path fill=\"currentColor\"\n              d=\"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z\"></path>\n    </svg>\n);\n\nconst settingsSvg = (\n    <svg aria-hidden=\"true\" width=\"32\" height=\"32\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"cog\"\n         className=\"svg-inline--fa fa-cog fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 512 512\">\n        <path fill=\"currentColor\"\n              d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"></path>\n    </svg>\n);\n\nconst usersSvg = (\n    <svg aria-hidden=\"true\" width=\"32\" height=\"32\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"address-book\"\n         className=\"svg-inline--fa fa-address-book fa-w-14\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 448 512\">\n        <path fill=\"currentColor\"\n              d=\"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z\"></path>\n    </svg>\n);\n\nexport {settingsSvg, dialogsSvg, usersSvg};","import React from \"react\";\nimport \"./index.css\"\nimport  {settingsSvg, dialogsSvg, usersSvg} from './svg.js'\n\nimport { withRouter, Link } from 'react-router-dom'\n\nvar classNames = require('classnames');\n\nclass TabBar extends React.Component {\n    render() {\n        const { pathname } = this.props.location;\n        const isUsers = pathname.match(/\\/users/gi);\n        const isSettings = pathname.match(/\\/settings/gi);\n        const isDialogs = !(isSettings || isUsers);  // mr de morgan dobriy den\n\n        const usersClassNames = classNames({\n            \"tab-bar__users-tab\": true,\n            \"tab-bar__tab--checked\": isUsers,\n        });\n        const dialogsClassNames = classNames({\n            \"tab-bar__dialogs-tab\": true,\n            \"tab-bar__tab--checked\": isDialogs,\n        });\n        const settingsClassNames = classNames({\n            \"tab-bar__settings-tab\": true,\n            \"tab-bar__tab--checked\": isSettings,\n        });\n\n        return (\n            <div className={\"left-column__tab-bar\"}>\n                <Link to={'/users'}>\n                    <div className={usersClassNames}>\n                        {usersSvg}\n                    </div>\n                </Link>\n                <Link to={'/'}>\n                    <div className={dialogsClassNames}>\n                        {dialogsSvg}\n                    </div>\n                </Link>\n                <Link to={'/settings'}>\n                    <div className={settingsClassNames}>\n                        {settingsSvg}\n                    </div>\n                </Link>\n            </div>\n        );\n    }\n}\n\nTabBar.defaultProps = {\n};\n\nexport default withRouter(props => <TabBar {...props}/>);\n// export default TabBar;\n","import React from 'react';\n\nconst connection = (\n    <svg width=\"20\" height=\"20\"\n         aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\"\n         data-icon=\"globe-americas\" class=\"svg-inline--fa fa-globe-americas fa-w-16\"\n         role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\">\n        <path fill=\"currentColor\"\n              d=\"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z\">\n        </path>\n    </svg>);\nexport default connection;","import React from 'react';\nconst newLetterSvg = (\n    <svg width=\"24\" height=\"24\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"envelope\"\n         className=\"svg-inline--fa fa-envelope fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 512 512\">\n    <path fill=\"currentColor\"\n          d=\"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z\"></path>\n    </svg>\n);\nexport default newLetterSvg;\n","import React, {useEffect, useState} from 'react';\n\nconst defaultContext = {\n    availableUsers: [],\n    connection: false,\n};\n\nexport const NetworkContext = React.createContext(defaultContext);\n\nexport const NetworkContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    // useEffect(() => {\n    //     // do request in GO for a user in config -> setEmail\n    // }, []);\n\n    return (\n        <NetworkContext.Provider value={[state, setState]}>\n            {props.children}\n        </NetworkContext.Provider>\n    );\n};","import React, { useContext, useEffect } from 'react';\nimport { NetworkContext } from \"../contexts/networkContext.js\";\n\n\nexport const useNetworkContext = () => {\n    const [state, setState] = useContext(NetworkContext);\n\n    function setConnection(connection) {\n        setState(state => ({...state, connection}));\n    }\n\n    function setAvailableUsers(availableUsers) {\n        setState(state => ({...state, availableUsers}));\n    }\n\n    return {\n        ...state,\n        setConnection,\n        setAvailableUsers,\n    }\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\"\nimport connectionSvg from './connection-icon.js'\nimport newLetterSvg from './new-letter-icon.js'\n\nimport { withRouter, Link } from 'react-router-dom'\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\nimport {useNetworkContext} from \"../../useContexts/useNetworkContext.js\";\n\nvar classNames = require('classnames');\n\nconst StatusBar = (props) => {\n    const { connection } = useNetworkContext();\n    const connectionClassNames = classNames({\n        \"status-bar__button\": true,\n        \"status-bar__connection--connected\": connection,\n        \"status-bar__connection--disconnected\": !connection,\n    });\n    const newLetterClassNames = classNames({\n        \"status-bar__button\": true,\n        \"status-bar__new-letter--connected\": connection,\n        \"status-bar__new-letter--disconnected\": !connection,\n    });\n\n    const { findLetters } = useLettersContext();\n\n    return (\n        <div className={\"left-column__status-bar\"}>\n            <input type=\"text\"\n                   className=\"status-bar__search\"\n                   placeholder=\"Поиск\"\n                   onChange={(e) => findLetters(e.currentTarget.value)}/>\n            <div className={connectionClassNames}>\n                {connectionSvg}\n            </div>\n            <Link to={'/letter/new'}>\n                <div className={newLetterClassNames}>\n                    {newLetterSvg}\n                </div>\n            </Link>\n        </div>\n    );\n};\n\nStatusBar.defaultProps = {\n};\n\nexport default StatusBar;\n","import React from \"react\";\nimport \"./index.css\";\n\n\nconst UserMini = (props) => {\n    const { email } = props;\n    return (\n        <div className={\"user-list__user-mini\"}>\n            <div className=\"user-mini__email\">\n                { email }\n            </div>\n        </div>\n    );\n};\n\nUserMini.defaultProps = {\n    email: 'Unknown',\n};\n\nexport default UserMini;","import React, { useEffect } from \"react\";\nimport \"./index.css\";\n\nimport UserMini from '../UserMini';\nimport { useNetworkContext } from \"../../useContexts/useNetworkContext.js\";\n\nconst UsersList = () => {\n\n    const { availableUsers } = useNetworkContext();\n\n    return (\n        <div className={\"user-list\"}>\n            {availableUsers.map(user => <UserMini key={user.email} {...user}/>)}\n        </div>\n    );\n};\n\nUsersList.defaultProps = {\n};\n\nexport default UsersList;","import React from \"react\";\nimport \"./index.css\";\nimport DialogList from \"../DialogList\";\nimport SettingsColumn from '../SettingsColumn';\n\nimport { Route, Switch } from 'react-router-dom';\nimport { Redirect } from 'react-router';\n\nimport TabBar from \"../TabBar\";\nimport StatusBar from \"../StatusBar\";\nimport {useUserContext} from \"../../useContexts/useUserContext.js\";\nimport UsersList from \"../UsersList\";\n\n\nconst LeftColumn = () => {\n    const { email } = useUserContext();\n    if (!email) {\n        return <Redirect to={'/auth'}/>;\n    }\n\n    return (\n        <div className={\"left-column\"}>\n            <StatusBar />\n            <Switch>\n                <Route path={\"/settings\"} render={() => <SettingsColumn />}/>\n                <Route path={\"/users\"} render={() => <UsersList />}/>\n                <Route render={() => <DialogList/>}/>\n            </Switch>\n            <TabBar />\n        </div>\n    );\n};\n\n\nLeftColumn.defaultProps = {};\n\nexport default LeftColumn;","import React from \"react\";\nimport \"./index.css\";\nimport { Redirect } from 'react-router';\nimport { useState } from 'react';\n\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\nimport { Link } from 'react-router-dom';\n\nconst LetterToolPanel = (props) => {\n    const { deleteLetter } = useLettersContext();\n\n    const [state, setState] = useState({\n        redirect: null,\n    });\n\n    const { id: letterID } = props;\n\n    const onDeletePressed = () => {\n        deleteLetter(letterID);\n        setState({ redirect: \"/\" });\n    };\n\n    if (state.redirect) {\n        return <Redirect to={state.redirect}/>;\n    }\n\n    return (\n        <div className=\"letter-reading__tool-panel\">\n            <a onClick={onDeletePressed} className=\"tool-panel__delete-button\">Удалить</a>\n            <Link to={`/letter/new?action=forward&id=${letterID}`}>\n                <a className=\"tool-panel__forward-button\">Переслать</a>\n            </Link>\n            <Link to={`/letter/new?action=reply&id=${letterID}`}>\n                <a className=\"tool-panel__reply-button\">Ответить</a>\n            </Link>\n        </div>\n    );\n};\n\nLetterToolPanel.defaultProps = {\n    id: null,\n};\n\nexport default LetterToolPanel;","import React from \"react\";\nimport \"./index.css\"\nimport LetterToolPanel from \"../LetterToolPanel\";\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\nimport { useUserContext } from \"../../useContexts/useUserContext.js\";\n\nconst LetterReading = (props) => {\n    const { getLetterByID } = useLettersContext();\n\n    const id = props.match.params.id;\n    const { author, message, responder } = getLetterByID(id);\n\n    const { email: userEmail } = useUserContext();\n    const isCurrentUserAuthor = userEmail === author;\n    const authorLabel = isCurrentUserAuthor ? \"Кому:\" : \"От кого:\";\n    const authorValue = isCurrentUserAuthor ? responder : author;\n\n    return (\n        <div className={\"right-column__letter-reading\"}>\n            <div className=\"letter-reading__content\">\n                <div className=\"letter-reading__info\">\n                    <div className={\"letter-reading__author\"}>\n                        <div className=\"letter-reading__author__label\">\n                            {authorLabel}\n                        </div>\n                        <div className=\"letter-reading__author__name\">\n                            {authorValue}\n                        </div>\n                    </div>\n                </div>\n                <div className={\"letter-reading__message\"}>\n                    {message}\n                </div>\n            </div>\n            <LetterToolPanel id={id}/>\n        </div>\n    );\n};\n\nLetterReading.defaultProps = {\n};\n\nexport default LetterReading;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nclass DetailedSettings extends React.Component {\n    render() {\n        return (\n            <div className={\"right-column__detailed-settings\"}>\n                <div>Здесь пока ничего нет :(</div>\n            </div>\n        );\n    }\n}\n\n\nDetailedSettings.defaultProps = {};\n\nexport default DetailedSettings;","import React, {useState} from 'react';\n\n\nconst defaultSpeed = 115200;\nconst defaultContext = {\n    inCom: {\n        name: 'COM1',\n        speed: defaultSpeed,\n    },\n    outCom: {\n        name: 'COM1',\n        speed: defaultSpeed,\n    },\n    ports: ['COM1', 'COM2', 'COM3', 'COM4', 'COM5'],\n};\n\nexport const ComPortsContext = React.createContext(defaultContext);\n\nexport const ComPortsContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    return (\n        <ComPortsContext.Provider value={[state, setState]}>\n            {props.children}\n        </ComPortsContext.Provider>\n    );\n};\n\n\n\n","import React, { useContext } from 'react';\nimport { ComPortsContext } from \"../contexts/comPortsContext.js\";\n\nexport const useComPortsContext = () => {\n    const [state, setState] = useContext(ComPortsContext);\n\n    function setInCom(inCom) {\n        setState(state => ({...state, inCom}));\n    }\n\n    function setOutCom(outCom) {\n        setState(state => ({...state, outCom}));\n    }\n\n    function setPorts(ports) {\n        setState(state => ({...state, ports}));\n    }\n\n    function mergeState(newState) {\n        setState(state => ({...state, ...newState}));\n    }\n\n    return {\n        ...state,\n        setInCom,\n        setOutCom,\n        setPorts,\n        mergeState,\n    }\n\n};","import React, { useState } from \"react\";\nimport \"./index.css\";\nimport {useComPortsContext} from \"../../useContexts/useComPortsContext.js\";\nimport {setComPortsSettings} from \"../../CoreInteraction/InteractionService.js\";\n\nconst renderSpeed = speed => `${speed}бит/с`;\nconst compareSpeed = (x, y) => Number(x) === Number(y);\nconst compareName = (a, b) => String(a) === String(b);\n\nconst renderItems = (items, currentItem, compareItem, renderItem = item => item) => {\n    return items.map( item => {\n            return <option selected={compareItem(item, currentItem)}\n                    value={item}>\n                {renderItem(item)}\n            </option>\n        }\n    );\n};\n\nconst ComPortSettings = (props) => {\n\n    const { speeds } = props;\n\n    const { ports, inCom, outCom, setInCom, setOutCom } = useComPortsContext();\n\n    const [ state, setState ] = useState({\n        inCom,\n        outCom,\n    });\n\n    const handleInputChange = (event) => {\n        const { dataset, value } = event.currentTarget;\n        const { field, port } = dataset;\n\n        const changedPort = {\n            ...state[port],\n            [field]: value,\n        };\n\n        setState({\n            ...state,\n            [port]: changedPort,\n        });\n    };\n\n    const apply = () => {\n        const { inCom, outCom } = state;\n        setInCom(inCom);\n        setOutCom(outCom);\n\n        inCom.speed = +inCom.speed;\n        outCom.speed = +outCom.speed;\n        setComPortsSettings({ports, inCom, outCom});\n    };\n\n    return (\n        <div className={\"right-column__detailed-settings\"}>\n            <div className=\"detailed-settings__com-ports\">\n                <form id=\"com-ports-form\">\n\n                    <h2 className=\"com-ports__title\">Выберите COM-порты</h2>\n\n                    <div>\n                        <label className=\"com-ports__label\" htmlFor=\"InComName\">Входящий порт</label>\n                        <select id={\"InComName\"}\n                                data-port=\"inCom\" data-field=\"name\"\n                                onChange={handleInputChange}>\n                            {renderItems(ports, state.inCom.name, compareName)}\n                        </select>\n                        <select className=\"com-ports__speed\"\n                                data-port=\"inCom\" data-field=\"speed\"\n                                onChange={handleInputChange}>\n                            {renderItems(speeds, state.inCom.speed, compareSpeed, renderSpeed)}\n                        </select>\n                    </div>\n\n                    <div>\n                        <label className=\"com-ports__label\" htmlFor=\"OutComName\">Исходящий порт</label>\n                        <select id={\"OutComName\"}\n                                data-port=\"outCom\" data-field=\"name\"\n                                onChange={handleInputChange}>\n                            {renderItems(ports, state.outCom.name, compareName)}\n                        </select>\n                        <select className=\"com-ports__speed\"\n                                data-port=\"outCom\" data-field=\"speed\"\n                                onChange={handleInputChange}>\n                            {renderItems(speeds, state.outCom.speed, compareSpeed, renderSpeed)}\n                        </select>\n                    </div>\n                    \n                    <a className=\"com-ports__apply-button\" onClick={apply}>Применить</a>\n                </form>\n            </div>\n        </div>\n    );\n};\n\n\nComPortSettings.defaultProps = {\n    speeds: [50, 75, 110, 150, 300, 600, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200].reverse(),\n};\n\nexport default ComPortSettings;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Link } from 'react-router-dom';\n\n\nconst LetterWritingToolPanel = (props) => {\n    return (\n        <div className=\"letter-writing__tool-panel\">\n            <a className=\"tool-panel__send-button\" onClick={props.onSendPressed}>Отправить</a>\n            <a className=\"tool-panel__cancel-button\">\n                <Link to={'/'}>Отмена</Link>\n            </a>\n        </div>\n    );\n};\n\nLetterWritingToolPanel.defaultProps = {\n    onSendPressed: () => null,\n};\n\nexport default LetterWritingToolPanel;","import React from \"react\";\nimport \"./index.css\"\n\n\nconst InformationRightColumn = (props) => {\n    const { message } = props;\n    return (\n        <div className={\"right-column__information\"}>\n            {message}\n        </div>\n    );\n};\n\nInformationRightColumn.defaultProps = {\n    message: 'Недоступно',\n};\n\nexport default InformationRightColumn;","import React, { useState, useEffect } from \"react\";\nimport \"./index.css\"\nimport LetterWritingToolPanel from \"../LetterWritingToolPanel\";\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\nimport { Redirect } from 'react-router';\nimport { useUserContext } from \"../../useContexts/useUserContext.js\";\nimport { useNetworkContext } from \"../../useContexts/useNetworkContext.js\";\nimport InformationRightColumn from \"../InformationRightColumn\";\nimport queryString from \"query-string\";\nimport { withRouter, Link } from 'react-router-dom'\n\n\nconst generateID = responder => {\n    const currentTimestamp = Date.now();\n    const rand = Math.random() * 1000;\n\n    const id = `${currentTimestamp}${rand}${responder}`;\n    return id;\n};\n\nconst LetterWriting = (props) => {\n    const { sendLetter, getLetterByID } = useLettersContext();\n\n    const defaultState = {\n        responder: '',\n        message: '',\n        redirect: null,\n    };\n\n    const [state, setState] = useState(defaultState);\n\n    useEffect( () => {\n        const { search } = props.location;\n        const { action, id } = queryString.parse(search);\n        if (action && id) {\n            const originFieldName = action === 'reply' ? 'author' : 'message';\n            const newFieldName = action === 'reply' ? 'responder' : 'message';\n            const originLetter = getLetterByID(id);\n            console.log(originLetter[originFieldName]);\n            setState(state => ({\n                ...state,\n                [newFieldName]: originLetter[originFieldName],\n            }));\n        }\n    }, []);\n\n    const { email: userEmail } = useUserContext();\n    const { connection, availableUsers } = useNetworkContext();\n\n    const onSendPressed = () => {\n        const { responder, message } = state;\n        const availableUserEmails = availableUsers.map( user => user.email);\n        if (!availableUserEmails.includes(responder)) {\n            console.log('Такого пользователя нет в сети!', availableUsers, responder);\n            alert('Такого пользователя нет в сети!');\n            return;\n        }\n\n        const id = generateID(responder);\n        const author = userEmail;\n        const date = Date.now();\n        const checkedSubEvent = false;\n        const checked = false;\n        const letter = {id, responder, message, author, date, checkedSubEvent, checked};\n\n        sendLetter(letter);\n        setState({\n            ...state,\n            redirect: true,\n        });\n    };\n\n    const onInputChange = (event) => {\n        const input = event.currentTarget;\n        const { name } = input.dataset;\n        const value = input.value;\n        setState({\n            ...state,\n            [name]: value,\n        });\n    };\n\n    if (state.redirect) {\n        return <Redirect to={'/'}/>;\n    }\n\n    if (!connection) {\n        return <InformationRightColumn message={\"Отсутствует соединение с сетью\"}/>;\n    }\n\n\n\n    return (\n        <div className={\"right-column__letter-writing\"}>\n            <div className=\"letter-writing__content\">\n                <label htmlFor={\"new-letter-to-input\"} className=\"letter-writing__info\">\n                    <div className={\"letter-writing__to\"}>\n                        <div className=\"letter-writing__to__label\">\n                            Кому:\n                        </div>\n                        <input id={\"new-letter-to-input\"}\n                               onChange={onInputChange}\n                               value={state.responder}\n                               data-name=\"responder\"\n                               className={\"letter-writing__to__input\"}\n                               type=\"text\"\n                        />\n                    </div>\n                </label>\n                <textarea onChange={onInputChange}\n                     data-name=\"message\"\n                     className={\"letter-writing__message\"}\n                     value={state.message}\n                     type=\"text\"\n                />\n            </div>\n            <LetterWritingToolPanel onSendPressed={onSendPressed} />\n        </div>\n    );\n};\n\nLetterWriting.defaultProps = {\n};\n\nexport default withRouter( props => <LetterWriting {...props} />);","import React from \"react\";\nimport \"./index.css\";\n\nimport { Route } from 'react-router-dom';\nimport LetterReading from \"../LetterReading\";\nimport DetailedSettings from \"../DetailedSettings\";\nimport ComPortSettings from \"../ComPortSettings\";\nimport LetterWriting from \"../LetterWriting\";\n\nconst RightColumn = () => {\n        return (\n            <div className={\"right-column\"}>\n                <Route path={\"/letter/new\"} render={() => <LetterWriting />} />\n                <Route path={\"/letter/:id\"} component={LetterReading}/>\n                <Route exact path={\"/settings\"} render={() => <DetailedSettings />}/>\n                <Route exact path={\"/settings/ports\"}\n                       render={() => <ComPortSettings />}/>\n            </div>\n        );\n};\n\n\nRightColumn.defaultProps = {};\n\nexport default RightColumn;","import React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport { useUserContext } from \"../../useContexts/useUserContext.js\";\nimport { Redirect } from \"react-router\";\nimport {EVENT_TYPES} from \"../../CoreInteraction/ws.js\";\nimport bus from \"../../CoreInteraction/InteractionService.js\"\n\nconst Auth = () => {\n    const { email, setEmail, collision, setCollision } = useUserContext();\n\n    const [inputValue, setInputValue] = useState(email);\n\n    const [redirect, setRedirect] = useState(false);\n\n    useEffect(() => {\n        bus.on(EVENT_TYPES.SET_USER_RESPONSE, (data) => {\n            if (data.status) {\n                setRedirect(true);\n            } else {\n                setCollision(true);\n            }\n        });\n    }, []);\n\n    const onApply = () => {\n        if (inputValue) {\n            setEmail(inputValue);\n        }\n    };\n\n    const onChange = (event) => {\n        const { value } = event.currentTarget;\n        setInputValue(value);\n    };\n\n    if (redirect) {\n        return <Redirect to={\"/\"} />;\n    }\n\n    const headerText = collision ? \"Такой пользователь уже находится в сети. Введите другой email\" : \"Авторизация\";\n\n    return (\n        <div className=\"auth\">\n            <h2 className=\"auth__header\">{headerText}</h2>\n            <input onChange={onChange} className=\"auth__email-input\" type=\"text\" placeholder=\"Email\" value={inputValue}/>\n            <a onClick={onApply} className=\"auth__submit-button\">Применить</a>\n        </div>\n    );\n};\n\n\nAuth.defaultProps = {};\n\nexport default Auth;","import React from \"react\";\nimport { UserContextProvider } from \"./contexts/userContext.js\";\nimport { LettersContextProvider } from \"./contexts/lettersContext.js\";\nimport { ComPortsContextProvider } from \"./contexts/comPortsContext.js\";\nimport { NetworkContextProvider } from \"./contexts/networkContext.js\";\n\nexport const AppContextProvider = (props) => {\n    return (\n        <NetworkContextProvider>\n            <UserContextProvider>\n                <LettersContextProvider>\n                    <ComPortsContextProvider>\n                        {props.children}\n                    </ComPortsContextProvider>\n                </LettersContextProvider>\n            </UserContextProvider>\n        </NetworkContextProvider>\n    );\n};","import React, {useEffect} from 'react';\nimport {useNetworkContext} from \"../../useContexts/useNetworkContext.js\";\nimport bus from '../../CoreInteraction/InteractionService.js';\nimport { EVENT_TYPES } from \"../../CoreInteraction/ws.js\";\nimport {useLettersContext} from \"../../useContexts/useLettersContext.js\";\nimport {useComPortsContext} from \"../../useContexts/useComPortsContext.js\";\nimport {sendCloseWindow} from \"../../CoreInteraction/InteractionService\";\n\nconst InteractionStarter = () => {\n    const { setAvailableUsers, setConnection } = useNetworkContext();\n    const { letters, addLetter, setLetterChecked, setLetters } = useLettersContext();\n    const { inCom, outCom, ports, mergeState } = useComPortsContext();\n\n    window.addEventListener('beforeunload', () => {\n        sendCloseWindow();\n    });\n\n    useEffect( () => {\n        bus.on(EVENT_TYPES.NETWORK_STATUS, data => {\n            setAvailableUsers(data.networkStatus.availableUsers);\n            setConnection(data.networkStatus.connection);\n        });\n    }, []);\n\n    useEffect( () => {\n        bus.on(EVENT_TYPES.SET_OLD_LETTERS, data => {\n            console.log(data.letters);\n            setLetters(data.letters);\n        });\n    }, []);\n\n    useEffect( () => {\n        const event = EVENT_TYPES.MESSAGE_RECEIVED;\n        bus.unsubscribeAll(event);\n        bus.on(event, data => {\n            const { letter } = data;\n            if (letter.checkedSubEvent) {\n                setLetterChecked(letter.id);\n                return;\n            }\n            addLetter(letter);\n        });\n    }, [letters]);\n\n    useEffect( () => {\n        const event = EVENT_TYPES.COM_PORTS_SETTINGS;\n        bus.unsubscribeAll(event);\n        bus.on(event, data => {\n            console.log(\"RECEIVED COM-ports UPDATE: \", data.comPortsSettings);\n            mergeState(data.comPortsSettings);\n        });\n    }, [inCom, outCom, ports]);\n\n    return null;\n};\n\nexport default InteractionStarter;","import React from 'react';\nimport LeftColumn from './components/LeftColumn';\nimport RightColumn from \"./components/RightColumn\";\nimport Auth from \"./components/Auth\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport {AppContextProvider} from \"./AppContextProvider.js\";\nimport InteractionStarter from \"./components/InteractonStarter\";\n\nconst App = () => {\n    return (\n        <AppContextProvider>\n            <InteractionStarter />\n            <div className=\"App\">\n                <Router>\n                    <Switch>\n                        <Route path={\"/auth\"} render={() => <Auth />}/>\n                        <Route render={() => (\n                            <>\n                                <LeftColumn />\n                                <RightColumn />\n                            </>\n                        )}/>\n                    </Switch>\n                </Router>\n            </div>\n        </AppContextProvider>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}