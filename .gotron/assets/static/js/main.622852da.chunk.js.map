{"version":3,"sources":["CoreInteraction/ws.js","components/DialogMini/index.js","stories/DialogListSampleData.js","contexts/lettersContext.js","CoreInteraction/InteractionService.js","useContexts/useLettersContext.js","components/DialogList/index.js","components/SettingsItem/index.js","components/SettingsColumn/SettingsData.js","components/SettingsColumn/index.js","components/TabBar/svg.js","components/TabBar/index.js","components/StatusBar/connection-icon.js","components/StatusBar/new-letter-icon.js","contexts/networkContext.js","useContexts/useNetworkContext.js","components/StatusBar/index.js","contexts/userContext.js","useContexts/useUserContext.js","components/UserMini/index.js","components/UsersList/index.js","components/LeftColumn/index.js","components/LetterToolPanel/index.js","components/LetterReading/index.js","components/DetailedSettings/index.js","contexts/comPortsContext.js","useContexts/useComPortsContext.js","components/ComPortSettings/index.js","components/LetterWritingToolPanel/index.js","components/InformationRightColumn/index.js","components/LetterWriting/index.js","components/RightColumn/index.js","components/Auth/index.js","AppContextProvider.js","components/InteractonStarter/index.js","App.js","index.js"],"names":["global","__webpack_require__","d","__webpack_exports__","ws","EVENT_TYPES","WebSocket","backendPort","MESSAGE_RECEIVED","MESSAGE_SEND","SET_USER","SET_USER_RESPONSE","NETWORK_STATUS","INTERFACE_READY","COM_PORTS_SETTINGS","COM_PORTS_SETTINGS_CHANGE","DialogMini","props","id","author","message","react_default","a","createElement","react_router_dom","to","concat","className","defaultProps","withRouter","DialogMini_DialogMini","data","responder","date","Date","now","defaultContext","letters","searchedLetters","LettersContext","React","createContext","LettersContextProvider","_useState","useState","_useState2","Object","slicedToArray","state","setState","Provider","value","children","sendNewLetter","letter","send","JSON","stringify","event","setUser","user","bus","EventBus","classCallCheck","this","listeners","callback","push","forEach","listener","onmessage","parse","console","log","emit","onopen","useLettersContext","_useContext","useContext","_useContext2","substring","findParam","setFindParam","findLetters","filter","find","str","sub","toLowerCase","indexOf","objectSpread","sendLetter","addLetter","deleteLetter","deleteId","oldLetters","oldSearchedLetters","setLetters","getLetterByID","DialogList","sort","b","map","src_components_DialogMini","assign","key","SettingsItem","linkTo","name","Component","SettingsItem_SettingsItem","settings","SettingsColumn","class","settingsItems","item","src_components_SettingsItem","dialogsSvg","aria-hidden","width","height","focusable","data-prefix","data-icon","role","xmlns","viewBox","fill","settingsSvg","usersSvg","classNames","require","TabBar","pathname","location","isUsers","match","isSettings","isDialogs","usersClassNames","tab-bar__users-tab","tab-bar__tab--checked","dialogsClassNames","tab-bar__dialogs-tab","settingsClassNames","tab-bar__settings-tab","TabBar_TabBar","connection","newLetterSvg","availableUsers","NetworkContext","NetworkContextProvider","useNetworkContext","setConnection","setAvailableUsers","StatusBar","connectionClassNames","status-bar__button","status-bar__connection--connected","status-bar__connection--disconnected","newLetterClassNames","status-bar__new-letter--connected","status-bar__new-letter--disconnected","type","placeholder","onChange","e","currentTarget","connectionSvg","email","collision","UserContext","UserContextProvider","useEffect","useUserContext","setEmail","setCollision","UsersList","components_UserMini","LeftColumn","react_router","toConsumableArray","dialogs","src_components_StatusBar","path","render","src_components_SettingsColumn","src_components_UsersList","src_components_DialogList","src_components_TabBar","LetterToolPanel","redirect","onClick","LetterReading","params","_getLetterByID","isCurrentUserAuthor","authorLabel","authorValue","src_components_LetterToolPanel","DetailedSettings","inCom","speed","outCom","ports","ComPortsContext","ComPortsContextProvider","useComPortsContext","setInCom","setOutCom","setPorts","mergeState","newState","renderSpeed","compareSpeed","x","y","Number","compareName","String","renderItems","items","currentItem","compareItem","renderItem","arguments","length","undefined","selected","ComPortSettings","speeds","_useComPortsContext","handleInputChange","_event$currentTarget","dataset","field","port","changedPort","defineProperty","htmlFor","data-port","data-field","comPortsSettings","reverse","LetterWritingToolPanel","onSendPressed","InformationRightColumn","LetterWriting","userEmail","onInputChange","input","innerText","data-name","onInput","contentEditable","src_components_LetterWritingToolPanel","includes","currentTimestamp","rand","Math","random","generateID","src_components_InformationRightColumn","RightColumn","exact","src_components_LetterWriting","component","src_components_DetailedSettings","src_components_ComPortSettings","Auth","_useUserContext","inputValue","setInputValue","_useState3","_useState4","setRedirect","on","status","headerText","AppContextProvider","networkContext_NetworkContextProvider","userContext_UserContextProvider","lettersContext_LettersContextProvider","comPortsContext_ComPortsContextProvider","InteractionStarter","_useLettersContext","networkStatus","unsubscribeAll","App","AppContextProvider_AppContextProvider","InteractonStarter","src_components_Auth","Fragment","src_components_LeftColumn","src_components_RightColumn","ReactDOM","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.622852da.chunk.js","sourcesContent":["export const ws = new WebSocket(\"ws://localhost:\" + global.backendPort + \"/web/app/events\");\n\nexport const EVENT_TYPES = {\n    MESSAGE_RECEIVED:          \"MESSAGE_RECEIVED_GOTRON_EVENT\",\n    MESSAGE_SEND:              \"MESSAGE_SEND_GOTRON_EVENT\",\n    SET_USER:                  \"SET_USER_GOTRON_EVENT\",\n    SET_USER_RESPONSE:         \"SET_USER_RESPONSE_GOTRON_EVENT\",\n\n    NETWORK_STATUS:            \"NETWORK_STATUS_GOTRON_EVENT\",\n    INTERFACE_READY:           \"INTERFACE_READY_GOTRON_EVENT\",\n\n    COM_PORTS_SETTINGS:        \"COM_PORTS_SETTINGS_GOTRON_EVENT\",\n    COM_PORTS_SETTINGS_CHANGE: \"COM_PORTS_SETTINGS_CHANGE_GOTRON_EVENT\",\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { withRouter, Link } from 'react-router-dom'\n\n\nconst DialogMini = (props) => {\n    const { id, author, message} = props;\n    return (\n        <Link to={`/letter/${id}`}>\n            <div className={\"dialog-list__dialog-mini\"}>\n                <div className=\"dialog-mini__author\">\n                    {author}\n                </div>\n                <div className=\"dialog-mini__message\">\n                    {message}\n                </div>\n            </div>\n        </Link>\n    );\n};\n\nDialogMini.defaultProps = {\n    author: 'Unknown',\n    message: 'Empty',\n    id: null,\n};\n\nexport default withRouter(props => <DialogMini {...props}/>);","const data = [\n    {\n        id: 'sfdlkgjbasdl354253fkjeo',\n        author: 'some@mail.ru',\n        message: 'привет, как дела',\n        responder: 'me@mail.ru',\n        date: Date.now(),\n    },\n    {\n        id: 'o7q3yot4wegigcqjkwnebcadfsbl',\n        author: 'vasyan122@gmail.com',\n        message: 'когда пойдем в театр?',\n        responder: 'me@mail.ru',\n        date: Date.now() + 1,\n    },\n    {\n        id: 'n,bul789329y4tergsillkasm',\n        author: 'hello55@mail.ru',\n        message: 'Здравствуйте, у вас задолжность',\n        responder: 'me@mail.ru',\n        date: Date.now() + 2,\n    },\n    {\n        id: 'ldjbvxhldo98u2039irejgkl',\n        author: 'info@mems.ru',\n        message: 'Свежайшие мемы только с печки',\n        responder: 'me@mail.ru',\n        date: Date.now() + 3,\n    }\n];\n\nexport default data;\n","import React, {useState} from 'react';\nimport dialogs from \"../stories/DialogListSampleData.js\";\n\n\nconst defaultContext = {\n    letters: [],\n    searchedLetters: [],\n};\n\nexport const LettersContext = React.createContext(defaultContext);\n\nexport const LettersContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    return (\n        <LettersContext.Provider value={[state, setState]}>\n            {props.children}\n        </LettersContext.Provider>\n    );\n};","import { ws, EVENT_TYPES } from \"./ws.js\";\n\nexport const sendNewLetter = letter => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.MESSAGE_SEND,\n        \"letter\": letter,\n    }));\n};\n\nexport const setUser = user => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.SET_USER,\n        \"user\": user,\n    }));\n};\n\nexport const sendInterfaceReady = () => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.INTERFACE_READY,\n    }));\n};\n\nexport const setComPortsSettings = comPortsSettings => {\n    ws.send(JSON.stringify({\n        \"event\": EVENT_TYPES.COM_PORTS_SETTINGS_CHANGE,\n        \"comPortsSettings\": comPortsSettings,\n    }));\n};\n\n\nclass EventBus {\n    constructor() {\n        this.listeners = {};\n    }\n\n    on(event, callback) {\n        if (!this.listeners[event]) {\n            this.listeners[event] = [];\n        }\n        this.listeners[event].push(callback);\n    }\n\n    emit(event, data) {\n        if (this.listeners[event]) {\n            this.listeners[event].forEach(listener => {\n                listener(data);\n            });\n        }\n    }\n\n    unsubscribeAll(event) {\n        this.listeners[event] = [];\n    }\n}\n\nconst bus = new EventBus();\n\nws.onmessage = (message) => {\n    const data = JSON.parse(message.data);\n    if (!data.event) return;\n\n    console.log('RECEIVED: ', data.event);\n    bus.emit(data.event, data);\n};\nws.onopen = () => sendInterfaceReady();\n\n\nexport default bus;\n\n","import React, { useContext, useState } from 'react';\nimport { LettersContext } from \"../contexts/lettersContext.js\";\nimport { sendNewLetter } from \"../CoreInteraction/InteractionService.js\";\n\nexport const useLettersContext = () => {\n    const [state, setState] = useContext(LettersContext);\n\n    const [findParam, setFindParam] = useState({\n        substring: '',\n    });\n\n    function sendLetter(letter) {\n        const { letters } = state;\n        letters.push(letter);\n        setState(state => ({...state, letters}));\n        findLetters(findParam.substring);\n\n        sendNewLetter(letter);\n    }\n\n    const addLetter = (letter) => {\n        const { letters } = state;\n        letters.push(letter);\n        setState(state => ({...state, letters}));\n        findLetters(findParam.substring);\n    };\n\n    function deleteLetter(deleteId) {\n        const { letters: oldLetters, searchedLetters: oldSearchedLetters } = state;\n        const letters = oldLetters.filter(letter => letter.id !== deleteId);\n        const searchedLetters = oldSearchedLetters.filter(letter => letter.id !== deleteId);\n\n        setState(state => ({...state, letters, searchedLetters}));\n    }\n\n    function findLetters(substring) {\n        setFindParam({substring});\n\n        const { letters } = state;\n        const searchedLetters = letters.filter( letter => {\n            const { author, responder, message } = letter;\n            const find = (str, sub) => str.toLowerCase().indexOf(sub.toLowerCase()) !== -1;\n\n            return find(author, substring) || find(responder, substring) || find(message, substring);\n        });\n        setState(state => ({...state, searchedLetters}));\n    }\n\n    function setLetters(letters) {\n        const searchedLetters = letters;\n        setState(state => ({...state, searchedLetters, letters}));\n    }\n\n    function getLetterByID(id) {\n        const { letters } = state;\n        const letter = letters.find(letter => letter.id === id);\n        const empty = { author: '', message: '', responder: '', id: '' };\n        return letter ? letter : empty;\n    }\n\n    return {\n        ...state,\n        sendLetter,\n        addLetter,\n        deleteLetter,\n        findLetters,\n        setLetters,\n        getLetterByID,\n    }\n\n};","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport DialogMini from '../DialogMini/index.js'\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\n\nconst DialogList = () => {\n\n    const { searchedLetters } = useLettersContext();\n\n    const cmp = (a,b) => b.date - a.date; // обратный порядок писем (новее => выше)\n\n    return (\n        <div className={\"dialog-list\"}>\n            {searchedLetters.sort(cmp).map( letter => <DialogMini key={letter.id} {...letter}/>)}\n        </div>\n    );\n};\n\nDialogList.defaultProps = {\n};\n\nexport default DialogList;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { withRouter, Link } from 'react-router-dom'\n\nclass SettingsItem extends React.Component {\n    render() {\n        return (\n            <Link to={this.props.linkTo}>\n                <div className=\"settings-column__settings-item\">\n                    {this.props.name}\n                </div>\n            </Link>\n        );\n    }\n}\n\n\nSettingsItem.defaultProps = {\n    name: 'Unknown',\n    linkTo: '/',\n};\n\nexport default withRouter(props => <SettingsItem {...props}/>);","const settings = [\n    {\n        name: \"Настройки COM-портов\",\n        linkTo: '/settings/ports',\n    },\n    // {\n    //     name: \"Исходящий COM-порт\",\n    // },\n    // {\n    //     name: \"Мои данные\",\n    // },\n];\n\nexport default settings;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport SettingsItem from \"../SettingsItem\";\n\nimport settings from './SettingsData.js';\n\nclass SettingsColumn extends React.Component {\n    render() {\n        return (\n            <div class=\"left-column__settings-column\">\n                {this.props.settingsItems.map(item => <SettingsItem {...item}/>)}\n            </div>\n        );\n    }\n}\n\n\nSettingsColumn.defaultProps = {\n    settingsItems: settings,\n};\n\nexport default SettingsColumn;","import React from 'react';\nconst dialogsSvg = (\n    <svg aria-hidden=\"true\" width=\"32\" height=\"32\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"comments\"\n         className=\"svg-inline--fa fa-comments fa-w-18\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 576 512\">\n        <path fill=\"currentColor\"\n              d=\"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z\"></path>\n    </svg>\n);\n\nconst settingsSvg = (\n    <svg aria-hidden=\"true\" width=\"32\" height=\"32\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"cog\"\n         className=\"svg-inline--fa fa-cog fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 512 512\">\n        <path fill=\"currentColor\"\n              d=\"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z\"></path>\n    </svg>\n);\n\nconst usersSvg = (\n    <svg aria-hidden=\"true\" width=\"32\" height=\"32\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"address-book\"\n         className=\"svg-inline--fa fa-address-book fa-w-14\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 448 512\">\n        <path fill=\"currentColor\"\n              d=\"M436 160c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20V48c0-26.5-21.5-48-48-48H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h320c26.5 0 48-21.5 48-48v-48h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-20v-64h20zm-228-32c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm112 236.8c0 10.6-10 19.2-22.4 19.2H118.4C106 384 96 375.4 96 364.8v-19.2c0-31.8 30.1-57.6 67.2-57.6h5c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h5c37.1 0 67.2 25.8 67.2 57.6v19.2z\"></path>\n    </svg>\n);\n\nexport {settingsSvg, dialogsSvg, usersSvg};","import React from \"react\";\nimport \"./index.css\"\nimport  {settingsSvg, dialogsSvg, usersSvg} from './svg.js'\n\nimport { withRouter, Link } from 'react-router-dom'\n\nvar classNames = require('classnames');\n\nclass TabBar extends React.Component {\n    render() {\n        const { pathname } = this.props.location;\n        const isUsers = pathname.match(/\\/users/gi);\n        const isSettings = pathname.match(/\\/settings/gi);\n        const isDialogs = !(isSettings || isUsers);  // mr de morgan dobriy den\n\n        const usersClassNames = classNames({\n            \"tab-bar__users-tab\": true,\n            \"tab-bar__tab--checked\": isUsers,\n        });\n        const dialogsClassNames = classNames({\n            \"tab-bar__dialogs-tab\": true,\n            \"tab-bar__tab--checked\": isDialogs,\n        });\n        const settingsClassNames = classNames({\n            \"tab-bar__settings-tab\": true,\n            \"tab-bar__tab--checked\": isSettings,\n        });\n\n        return (\n            <div className={\"left-column__tab-bar\"}>\n                <Link to={'/users'}>\n                    <div className={usersClassNames}>\n                        {usersSvg}\n                    </div>\n                </Link>\n                <Link to={'/'}>\n                    <div className={dialogsClassNames}>\n                        {dialogsSvg}\n                    </div>\n                </Link>\n                <Link to={'/settings'}>\n                    <div className={settingsClassNames}>\n                        {settingsSvg}\n                    </div>\n                </Link>\n            </div>\n        );\n    }\n}\n\nTabBar.defaultProps = {\n};\n\nexport default withRouter(props => <TabBar {...props}/>);\n// export default TabBar;\n","import React from 'react';\n\nconst connection = (\n    <svg width=\"20\" height=\"20\"\n         aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\"\n         data-icon=\"globe-americas\" class=\"svg-inline--fa fa-globe-americas fa-w-16\"\n         role=\"img\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 496 512\">\n        <path fill=\"currentColor\"\n              d=\"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm82.29 357.6c-3.9 3.88-7.99 7.95-11.31 11.28-2.99 3-5.1 6.7-6.17 10.71-1.51 5.66-2.73 11.38-4.77 16.87l-17.39 46.85c-13.76 3-28 4.69-42.65 4.69v-27.38c1.69-12.62-7.64-36.26-22.63-51.25-6-6-9.37-14.14-9.37-22.63v-32.01c0-11.64-6.27-22.34-16.46-27.97-14.37-7.95-34.81-19.06-48.81-26.11-11.48-5.78-22.1-13.14-31.65-21.75l-.8-.72a114.792 114.792 0 0 1-18.06-20.74c-9.38-13.77-24.66-36.42-34.59-51.14 20.47-45.5 57.36-82.04 103.2-101.89l24.01 12.01C203.48 89.74 216 82.01 216 70.11v-11.3c7.99-1.29 16.12-2.11 24.39-2.42l28.3 28.3c6.25 6.25 6.25 16.38 0 22.63L264 112l-10.34 10.34c-3.12 3.12-3.12 8.19 0 11.31l4.69 4.69c3.12 3.12 3.12 8.19 0 11.31l-8 8a8.008 8.008 0 0 1-5.66 2.34h-8.99c-2.08 0-4.08.81-5.58 2.27l-9.92 9.65a8.008 8.008 0 0 0-1.58 9.31l15.59 31.19c2.66 5.32-1.21 11.58-7.15 11.58h-5.64c-1.93 0-3.79-.7-5.24-1.96l-9.28-8.06a16.017 16.017 0 0 0-15.55-3.1l-31.17 10.39a11.95 11.95 0 0 0-8.17 11.34c0 4.53 2.56 8.66 6.61 10.69l11.08 5.54c9.41 4.71 19.79 7.16 30.31 7.16s22.59 27.29 32 32h66.75c8.49 0 16.62 3.37 22.63 9.37l13.69 13.69a30.503 30.503 0 0 1 8.93 21.57 46.536 46.536 0 0 1-13.72 32.98zM417 274.25c-5.79-1.45-10.84-5-14.15-9.97l-17.98-26.97a23.97 23.97 0 0 1 0-26.62l19.59-29.38c2.32-3.47 5.5-6.29 9.24-8.15l12.98-6.49C440.2 193.59 448 223.87 448 256c0 8.67-.74 17.16-1.82 25.54L417 274.25z\">\n        </path>\n    </svg>);\nexport default connection;","import React from 'react';\nconst newLetterSvg = (\n    <svg width=\"24\" height=\"24\" aria-hidden=\"true\" focusable=\"false\" data-prefix=\"fas\" data-icon=\"envelope\"\n         className=\"svg-inline--fa fa-envelope fa-w-16\" role=\"img\" xmlns=\"http://www.w3.org/2000/svg\"\n         viewBox=\"0 0 512 512\">\n    <path fill=\"currentColor\"\n          d=\"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z\"></path>\n    </svg>\n);\nexport default newLetterSvg;\n","import React, {useEffect, useState} from 'react';\n\nconst defaultContext = {\n    availableUsers: [],\n    connection: true,\n};\n\nexport const NetworkContext = React.createContext(defaultContext);\n\nexport const NetworkContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    // useEffect(() => {\n    //     // do request in GO for a user in config -> setEmail\n    // }, []);\n\n    return (\n        <NetworkContext.Provider value={[state, setState]}>\n            {props.children}\n        </NetworkContext.Provider>\n    );\n};","import React, { useContext, useEffect } from 'react';\nimport { NetworkContext } from \"../contexts/networkContext.js\";\n\n\nexport const useNetworkContext = () => {\n    const [state, setState] = useContext(NetworkContext);\n\n    function setConnection(connection) {\n        setState(state => ({...state, connection}));\n    }\n\n    function setAvailableUsers(availableUsers) {\n        setState(state => ({...state, availableUsers}));\n    }\n\n    return {\n        ...state,\n        setConnection,\n        setAvailableUsers,\n    }\n};","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\"\nimport connectionSvg from './connection-icon.js'\nimport newLetterSvg from './new-letter-icon.js'\n\nimport { withRouter, Link } from 'react-router-dom'\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\nimport {useNetworkContext} from \"../../useContexts/useNetworkContext.js\";\n\nvar classNames = require('classnames');\n\nconst StatusBar = (props) => {\n    const { connection } = useNetworkContext();\n    const connectionClassNames = classNames({\n        \"status-bar__button\": true,\n        \"status-bar__connection--connected\": connection,\n        \"status-bar__connection--disconnected\": !connection,\n    });\n    const newLetterClassNames = classNames({\n        \"status-bar__button\": true,\n        \"status-bar__new-letter--connected\": connection,\n        \"status-bar__new-letter--disconnected\": !connection,\n    });\n\n    const { findLetters } = useLettersContext();\n\n    return (\n        <div className={\"left-column__status-bar\"}>\n            <input type=\"text\"\n                   className=\"status-bar__search\"\n                   placeholder=\"Поиск\"\n                   onChange={(e) => findLetters(e.currentTarget.value)}/>\n            <div className={connectionClassNames}>\n                {connectionSvg}\n            </div>\n            <Link to={'/letter/new'}>\n                <div className={newLetterClassNames}>\n                    {newLetterSvg}\n                </div>\n            </Link>\n        </div>\n    );\n};\n\nStatusBar.defaultProps = {\n};\n\nexport default StatusBar;\n","import React, {useEffect, useState} from 'react';\n\nconst defaultContext = {\n    email: '',\n    collision: false,\n};\n\nexport const UserContext = React.createContext(defaultContext);\n\nexport const UserContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    useEffect(() => {\n        // do request in GO for a user in config -> setEmail\n    }, []);\n\n    return (\n        <UserContext.Provider value={[state, setState]}>\n            {props.children}\n        </UserContext.Provider>\n    );\n};","import React, { useContext, useEffect } from 'react';\nimport { UserContext } from \"../contexts/userContext.js\";\nimport { setUser } from \"../CoreInteraction/InteractionService.js\";\n\nexport const useUserContext = () => {\n    const [state, setState] = useContext(UserContext);\n\n    function setEmail(email) {\n        setState(state => ({...state, email}));\n        setUser({email});\n    }\n\n    function setCollision(collision) {\n        setState(state => ({...state, collision}));\n    }\n\n    return {\n        ...state,\n        setEmail,\n        setCollision,\n    }\n};","import React from \"react\";\nimport \"./index.css\";\n\n\nconst DialogMini = (props) => {\n    const { email } = props;\n    return (\n        <div className={\"user-list__user-mini\"}>\n            <div className=\"user-mini__email\">\n                { email }\n            </div>\n        </div>\n    );\n};\n\nDialogMini.defaultProps = {\n    email: 'Unknown',\n};\n\nexport default DialogMini;","import React, { useEffect } from \"react\";\nimport \"./index.css\";\n\nimport UserMini from '../UserMini';\nimport { useNetworkContext } from \"../../useContexts/useNetworkContext.js\";\n\nconst UsersList = (props) => {\n\n    const { availableUsers } = useNetworkContext();\n\n    return (\n        <div className={\"user-list\"}>\n            {availableUsers.map( user => <UserMini key={user.email} {...user}/>)}\n        </div>\n    );\n};\n\nUsersList.defaultProps = {\n};\n\nexport default UsersList;","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport DialogList from \"../DialogList\";\nimport SettingsColumn from '../SettingsColumn';\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { Redirect } from 'react-router';\n\nimport TabBar from \"../TabBar\";\nimport dialogs from \"../../stories/DialogListSampleData.js\";\nimport StatusBar from \"../StatusBar\";\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\nimport {useUserContext} from \"../../useContexts/useUserContext.js\";\nimport UsersList from \"../UsersList\";\n\n\nconst LeftColumn = () => {\n    const { email } = useUserContext();\n    if (!email) {\n        return <Redirect to={'/auth'}/>;\n    }\n\n    const { setLetters } = useLettersContext();\n    useEffect(() => {\n        setLetters([...dialogs]);\n    }, []);\n\n    return (\n        <div className={\"left-column\"}>\n            <StatusBar />\n            <Switch>\n                <Route path={\"/settings\"} render={() => <SettingsColumn />}/>\n                <Route path={\"/users\"} render={() => <UsersList />}/>\n                <Route render={() => <DialogList/>}/>\n            </Switch>\n            <TabBar />\n        </div>\n    );\n};\n\n\nLeftColumn.defaultProps = {};\n\nexport default LeftColumn;","import React from \"react\";\nimport \"./index.css\";\nimport { Redirect } from 'react-router';\nimport { useState } from 'react';\n\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\n\n\nconst LetterToolPanel = (props) => {\n    const { deleteLetter } = useLettersContext();\n\n    const [state, setState] = useState({\n        redirect: false,\n    });\n\n    const onDeletePressed = () => {\n        deleteLetter(props.id);\n        setState({ redirect: true });\n    };\n\n    if (state.redirect) {\n        return <Redirect to={'/'}/>;\n    }\n\n    return (\n        <div className=\"letter-reading__tool-panel\">\n            <a onClick={() => onDeletePressed()} className=\"tool-panel__delete-button\">Удалить</a>\n        </div>\n    );\n};\n\nLetterToolPanel.defaultProps = {\n    id: null,\n};\n\nexport default LetterToolPanel;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\"\nimport LetterToolPanel from \"../LetterToolPanel\";\nimport {useLettersContext} from \"../../useContexts/useLettersContext.js\";\nimport {useUserContext} from \"../../useContexts/useUserContext.js\";\n\nconst LetterReading = (props) => {\n    const { getLetterByID } = useLettersContext();\n\n    const id = props.match.params.id;\n    const { author, message, responder } = getLetterByID(id);\n\n    const { email: userEmail } = useUserContext();\n    const isCurrentUserAuthor = userEmail === author;\n    const authorLabel = isCurrentUserAuthor ? \"Кому:\" : \"От кого:\";\n    const authorValue = isCurrentUserAuthor ? responder : author;\n\n    return (\n        <div className={\"right-column__letter-reading\"}>\n            <div className=\"letter-reading__content\">\n                <div className=\"letter-reading__info\">\n                    <div className={\"letter-reading__author\"}>\n                        <div className=\"letter-reading__author__label\">\n                            {authorLabel}\n                        </div>\n                        <div className=\"letter-reading__author__name\">\n                            {authorValue}\n                        </div>\n                    </div>\n                </div>\n                <div className={\"letter-reading__message\"}>\n                    {message}\n                </div>\n            </div>\n            <LetterToolPanel id={id}/>\n        </div>\n    );\n};\n\nLetterReading.defaultProps = {\n};\n\nexport default LetterReading;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\n\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\n\nclass DetailedSettings extends React.Component {\n    render() {\n        return (\n            <div className={\"right-column__detailed-settings\"}>\n                <div>Здесь пока ничего нет :(</div>\n            </div>\n        );\n    }\n}\n\n\nDetailedSettings.defaultProps = {};\n\nexport default DetailedSettings;","import React, {useState} from 'react';\n\n\nconst defaultSpeed = 115200;\nconst defaultContext = {\n    inCom: {\n        name: 'COM1',\n        speed: defaultSpeed,\n    },\n    outCom: {\n        name: 'COM1',\n        speed: defaultSpeed,\n    },\n    ports: ['COM1', 'COM2', 'COM3', 'COM4', 'COM5'],\n};\n\nexport const ComPortsContext = React.createContext(defaultContext);\n\nexport const ComPortsContextProvider = (props) => {\n    const [state, setState] = useState(defaultContext);\n\n    return (\n        <ComPortsContext.Provider value={[state, setState]}>\n            {props.children}\n        </ComPortsContext.Provider>\n    );\n};\n\n\n\n","import React, { useContext } from 'react';\nimport { ComPortsContext } from \"../contexts/comPortsContext.js\";\n\nexport const useComPortsContext = () => {\n    const [state, setState] = useContext(ComPortsContext);\n\n    function setInCom(inCom) {\n        setState(state => ({...state, inCom}));\n    }\n\n    function setOutCom(outCom) {\n        setState(state => ({...state, outCom}));\n    }\n\n    function setPorts(ports) {\n        setState(state => ({...state, ports}));\n    }\n\n    function mergeState(newState) {\n        setState(state => ({...state, ...newState}));\n    }\n\n    return {\n        ...state,\n        setInCom,\n        setOutCom,\n        setPorts,\n        mergeState,\n    }\n\n};","import React, { useState } from \"react\";\nimport \"./index.css\";\nimport {useComPortsContext} from \"../../useContexts/useComPortsContext.js\";\nimport {setComPortsSettings} from \"../../CoreInteraction/InteractionService.js\";\n\nconst renderSpeed = speed => `${speed}бит/с`;\nconst compareSpeed = (x, y) => Number(x) === Number(y);\nconst compareName = (a, b) => String(a) === String(b);\n\nconst renderItems = (items, currentItem, compareItem, renderItem = item => item) => {\n    return items.map( item => {\n            return <option selected={compareItem(item, currentItem)}\n                    value={item}>\n                {renderItem(item)}\n            </option>\n        }\n    );\n};\n\nconst ComPortSettings = (props) => {\n\n    const { speeds } = props;\n\n    const { ports, inCom, outCom, setInCom, setOutCom } = useComPortsContext();\n\n    const [ state, setState ] = useState({\n        inCom,\n        outCom,\n    });\n\n    const handleInputChange = (event) => {\n        const { dataset, value } = event.currentTarget;\n        const { field, port } = dataset;\n\n        const changedPort = {\n            ...state[port],\n            [field]: value,\n        };\n\n        setState({\n            ...state,\n            [port]: changedPort,\n        });\n    };\n\n    const apply = () => {\n        const { inCom, outCom } = state;\n        setInCom(inCom);\n        setOutCom(outCom);\n\n        inCom.speed = +inCom.speed;\n        outCom.speed = +outCom.speed;\n        setComPortsSettings({ports, inCom, outCom});\n    };\n\n    return (\n        <div className={\"right-column__detailed-settings\"}>\n            <div className=\"detailed-settings__com-ports\">\n                <form id=\"com-ports-form\">\n\n                    <h2 className=\"com-ports__title\">Выберите COM-порты</h2>\n\n                    <div>\n                        <label className=\"com-ports__label\" htmlFor=\"InComName\">Входящий порт</label>\n                        <select id={\"InComName\"}\n                                data-port=\"inCom\" data-field=\"name\"\n                                onChange={handleInputChange}>\n                            {renderItems(ports, state.inCom.name, compareName)}\n                        </select>\n                        <select className=\"com-ports__speed\"\n                                data-port=\"inCom\" data-field=\"speed\"\n                                onChange={handleInputChange}>\n                            {renderItems(speeds, state.inCom.speed, compareSpeed, renderSpeed)}\n                        </select>\n                    </div>\n\n                    <div>\n                        <label className=\"com-ports__label\" htmlFor=\"OutComName\">Исходящий порт</label>\n                        <select id={\"OutComName\"}\n                                data-port=\"outCom\" data-field=\"name\"\n                                onChange={handleInputChange}>\n                            {renderItems(ports, state.outCom.name, compareName)}\n                        </select>\n                        <select className=\"com-ports__speed\"\n                                data-port=\"outCom\" data-field=\"speed\"\n                                onChange={handleInputChange}>\n                            {renderItems(speeds, state.outCom.speed, compareSpeed, renderSpeed)}\n                        </select>\n                    </div>\n\n                    <a className=\"com-ports__apply-button\" onClick={apply}>Применить</a>\n\n                </form>\n            </div>\n        </div>\n    );\n};\n\n\nComPortSettings.defaultProps = {\n    speeds: [50, 75, 110, 150, 300, 600, 1200, 2400, 4800, 9600, 19200, 38400, 57600, 115200].reverse(),\n};\n\nexport default ComPortSettings;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { Link } from 'react-router-dom';\n\n\nconst LetterWritingToolPanel = (props) => {\n    return (\n        <div className=\"letter-writing__tool-panel\">\n            <a className=\"tool-panel__send-button\" onClick={props.onSendPressed}>Отправить</a>\n            <a className=\"tool-panel__cancel-button\">\n                <Link to={'/'}>Отмена</Link>\n            </a>\n        </div>\n    );\n};\n\nLetterWritingToolPanel.defaultProps = {\n    onSendPressed: () => null,\n};\n\nexport default LetterWritingToolPanel;","import React from \"react\";\nimport \"./index.css\"\n\n\nconst InformationRightColumn = (props) => {\n    const { message } = props;\n    return (\n        <div className={\"right-column__information\"}>\n            {message}\n        </div>\n    );\n};\n\nInformationRightColumn.defaultProps = {\n    message: 'Недоступно',\n};\n\nexport default InformationRightColumn;","import React, { useState } from \"react\";\nimport \"./index.css\"\nimport LetterWritingToolPanel from \"../LetterWritingToolPanel\";\nimport { useLettersContext } from \"../../useContexts/useLettersContext.js\";\nimport { Redirect } from 'react-router';\nimport { useUserContext } from \"../../useContexts/useUserContext.js\";\nimport { useNetworkContext } from \"../../useContexts/useNetworkContext.js\";\nimport InformationRightColumn from \"../InformationRightColumn\";\n\nconst generateID = responder => {\n    const currentTimestamp = Date.now();\n    const rand = Math.random() * 1000;\n\n    const id = `${currentTimestamp}${rand}${responder}`;\n    return id;\n};\n\nconst LetterWriting = (props) => {\n    const [state, setState] = useState({\n        responder: '',\n        message: '',\n        redirect: false,\n    });\n\n    const { sendLetter } = useLettersContext();\n    const { email: userEmail } = useUserContext();\n    const { connection } = useNetworkContext();\n\n    const onSendPressed = () => {\n        const { responder, message } = state;\n        if (!props.availableUsers.includes(responder)) {\n            console.log('Такого пользователя нет в сети!');\n            return;\n        }\n\n        const id = generateID(responder);\n        const author = userEmail;\n        const date = Date.now();\n        const letter = {id, responder, message, author, date};\n\n        sendLetter(letter);\n        setState({\n            ...state,\n            redirect: true,\n        });\n    };\n\n    const onInputChange = (event) => {\n        const input = event.currentTarget;\n        const { name } = input.dataset;\n        const value = name === 'message' ? input.innerText : input.value;\n        setState({\n            ...state,\n            [name]: value,\n        });\n    };\n\n    if (state.redirect) {\n        return <Redirect to={'/'}/>;\n    }\n\n    if (!connection) {\n        return <InformationRightColumn message={\"Отсутствует соединение с сетью\"}/>;\n    }\n\n    return (\n        <div className={\"right-column__letter-writing\"}>\n            <div className=\"letter-writing__content\">\n                <label htmlFor={\"new-letter-to-input\"} className=\"letter-writing__info\">\n                    <div className={\"letter-writing__to\"}>\n                        <div className=\"letter-writing__to__label\">\n                            Кому:\n                        </div>\n                        <input id={\"new-letter-to-input\"}\n                               onChange={onInputChange}\n                               data-name=\"responder\"\n                               className={\"letter-writing__to__input\"}\n                               type=\"text\" />\n                    </div>\n                </label>\n                <div onInput={onInputChange}\n                     data-name=\"message\"\n                     className={\"letter-writing__message\"}\n                     contentEditable={true} />\n            </div>\n            <LetterWritingToolPanel onSendPressed={onSendPressed} />\n        </div>\n    );\n};\n\nLetterWriting.defaultProps = {\n    availableUsers: [],\n};\n\nexport default LetterWriting;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\n\nimport {BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport LetterReading from \"../LetterReading\";\nimport DetailedSettings from \"../DetailedSettings\";\nimport ComPortSettings from \"../ComPortSettings\";\nimport LetterWriting from \"../LetterWriting\";\n\nconst RightColumn = () => {\n        return (\n            <div className={\"right-column\"}>\n                <Route exact path={\"/letter/new\"} render={() => <LetterWriting availableUsers={['hello55@mail.ru']}/>} />\n                <Route path={\"/letter/:id\"} component={LetterReading}/>\n                <Route exact path={\"/settings\"} render={() => <DetailedSettings />}/>\n                <Route exact path={\"/settings/ports\"}\n                       render={() => <ComPortSettings />}/>\n            </div>\n        );\n};\n\n\nRightColumn.defaultProps = {};\n\nexport default RightColumn;","import React, { useState, useEffect } from \"react\";\nimport \"./index.css\";\nimport { useUserContext } from \"../../useContexts/useUserContext.js\";\nimport { Redirect } from \"react-router\";\nimport {EVENT_TYPES} from \"../../CoreInteraction/ws.js\";\nimport bus from \"../../CoreInteraction/InteractionService.js\"\n\nconst Auth = () => {\n    const { email, setEmail, collision, setCollision } = useUserContext();\n\n    const [inputValue, setInputValue] = useState(email);\n\n    const [redirect, setRedirect] = useState(false);\n\n    useEffect(() => {\n        bus.on(EVENT_TYPES.SET_USER_RESPONSE, (data) => {\n            if (data.status) {\n                setRedirect(true);\n            } else {\n                setCollision(true);\n            }\n        });\n    }, []);\n\n    const onApply = () => {\n        if (inputValue) {\n            setEmail(inputValue);\n        }\n    };\n\n    const onChange = (event) => {\n        const { value } = event.currentTarget;\n        setInputValue(value);\n    };\n\n    if (redirect) {\n        return <Redirect to={\"/\"} />;\n    }\n\n    const headerText = collision ? \"Такой пользователь уже находится в сети. Введите другой email\" : \"Авторизация\";\n\n    return (\n        <div className=\"auth\">\n            <h2 className=\"auth__header\">{headerText}</h2>\n            <input onChange={onChange} className=\"auth__email-input\" type=\"text\" placeholder=\"Email\" value={inputValue}/>\n            <a onClick={onApply} className=\"auth__submit-button\">Применить</a>\n        </div>\n    );\n};\n\n\nAuth.defaultProps = {};\n\nexport default Auth;","import React from \"react\";\nimport { UserContextProvider } from \"./contexts/userContext.js\";\nimport { LettersContextProvider } from \"./contexts/lettersContext.js\";\nimport { ComPortsContextProvider } from \"./contexts/comPortsContext.js\";\nimport { NetworkContextProvider } from \"./contexts/networkContext.js\";\n\nexport const AppContextProvider = (props) => {\n    return (\n        <NetworkContextProvider>\n            <UserContextProvider>\n                <LettersContextProvider>\n                    <ComPortsContextProvider>\n                        {props.children}\n                    </ComPortsContextProvider>\n                </LettersContextProvider>\n            </UserContextProvider>\n        </NetworkContextProvider>\n    );\n};","import React, {useEffect} from 'react';\nimport {useNetworkContext} from \"../../useContexts/useNetworkContext.js\";\nimport bus from '../../CoreInteraction/InteractionService.js';\nimport { EVENT_TYPES } from \"../../CoreInteraction/ws.js\";\nimport {useLettersContext} from \"../../useContexts/useLettersContext.js\";\nimport {useComPortsContext} from \"../../useContexts/useComPortsContext.js\";\n\nconst InteractionStarter = () => {\n    const { setAvailableUsers } = useNetworkContext();\n    const { letters, addLetter } = useLettersContext();\n    const { inCom, outCom, ports, mergeState } = useComPortsContext();\n\n    useEffect( () => {\n        bus.on(EVENT_TYPES.NETWORK_STATUS, data => {\n            setAvailableUsers(data.networkStatus.availableUsers);\n        });\n    }, []);\n\n    useEffect( () => {\n        const event = EVENT_TYPES.MESSAGE_RECEIVED;\n        bus.unsubscribeAll(event);\n        bus.on(event, data => {\n            addLetter(data.letter);\n        });\n    }, [letters]);\n\n    useEffect( () => {\n        const event = EVENT_TYPES.COM_PORTS_SETTINGS;\n        bus.unsubscribeAll(event);\n        bus.on(event, data => {\n            console.log(\"RECEIVED COM-ports UPDATE: \", data.comPortsSettings);\n            mergeState(data.comPortsSettings);\n        });\n    }, [inCom, outCom, ports]);\n\n    return null;\n};\n\nexport default InteractionStarter;","import React from 'react';\nimport LeftColumn from './components/LeftColumn';\nimport RightColumn from \"./components/RightColumn\";\nimport Auth from \"./components/Auth\";\nimport \"./App.css\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport {AppContextProvider} from \"./AppContextProvider.js\";\nimport InteractionStarter from \"./components/InteractonStarter\";\n\nconst App = () => {\n    return (\n        <AppContextProvider>\n            <InteractionStarter />\n            <div className=\"App\">\n                <Router>\n                    <Switch>\n                        <Route path={\"/auth\"} render={() => <Auth />}/>\n                        <Route render={() => (\n                            <>\n                                <LeftColumn />\n                                <RightColumn />\n                            </>\n                        )}/>\n                    </Switch>\n                </Router>\n            </div>\n        </AppContextProvider>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}